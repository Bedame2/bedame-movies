/*!For license information please see LICENSES*/(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1626:function(e,t,r){r(1798)},1627:function(e,t,r){var n=r(22),i=WeakMap.prototype;e.exports={WeakMap:WeakMap,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i.delete)}},1772:function(e,t,r){"use strict";r.d(t,"a",(function(){return Rt})),r.d(t,"b",(function(){return Ot})),r.d(t,"c",(function(){return In})),r.d(t,"d",(function(){return Tr}));r(37),r(91),r(92),r(129);var n=r(43),i=r(84),a=r(145),s=r(66),o=r(74),u=r(28),c=r(35),l=r(0),h=r(10),f=r(13),p=r(137),d=r(9),v=(r(31),r(24),r(39),r(77),r(243),r(25),r(51),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(256),r(257),r(61),r(50),r(118),r(76),r(60),r(41),r(111),r(63),r(36),r(1795),r(71),r(79),r(110),r(100),r(327),r(1796),r(80),r(1797),r(660),r(310),r(311),r(312),r(313),r(314),r(315),r(316),r(317),r(318),r(319),r(320),r(321),r(322),r(323),r(324),r(325),r(326),r(1626),r(1800),r(45),r(72),r(53),r(33),r(244),r(128),r(140),r(666),r(38)),m=r(75),g=r(199);r(55),r(1802),r(1804);function b(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}Object.create;Object.create;var k,y=r(123);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}function w(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw a}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(){return Object(d.a)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var I=_,j=new v.b("auth","Firebase",_()),x=new g.b("@firebase/auth");function T(e){if(x.logLevel<=g.a.ERROR){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];x.error.apply(x,["Auth (".concat(m.a,"): ").concat(e)].concat(r))}}function E(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw A.apply(void 0,[e].concat(r))}function S(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return A.apply(void 0,[e].concat(r))}function P(e,t,r){var n=Object.assign(Object.assign({},I()),Object(d.a)({},t,r));return new v.b("auth","Firebase",n).create(t,{appName:e.name})}function N(e,t,r){if(!(t instanceof r))throw r.name!==t.constructor.name&&E(e,"argument-error"),P(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function A(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if("string"!=typeof e){var i,a=r[0],s=Object(p.a)(r.slice(1));return s[0]&&(s[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Object(p.a)(s)))}return j.create.apply(j,[e].concat(r))}function C(e,t){if(!e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];throw A.apply(void 0,[t].concat(n))}}function M(e){var t="INTERNAL ASSERTION FAILED: "+e;throw T(t),new Error(t)}function L(e,t){e||M(t)}var D=new Map;function U(e){L(e instanceof Function,"Expected a class definition");var t=D.get(e);return t?(L(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,D.set(e,t),t)}function F(e,t){var r=Object(m.b)(e,"auth");if(r.isInitialized()){var n=r.getImmediate(),i=r.getOptions();if(Object(v.i)(i,null!=t?t:{}))return n;E(n,"already-initialized")}return r.initialize({options:t})}function V(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function z(){return"http:"===W()||"https:"===W()}function W(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var H=function(){function e(t,r){Object(h.a)(this,e),this.shortDelay=t,this.longDelay=r,L(r>t,"Short delay should be less than long delay!"),this.isMobile=Object(v.t)()||Object(v.u)()}return Object(f.a)(e,[{key:"get",value:function(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(z()||Object(v.p)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function q(e,t){L(e.emulator,"Emulator should always be set here");var r=e.emulator.url;return t?"".concat(r).concat(t.startsWith("/")?t.slice(1):t):r}var K=function(){function e(){Object(h.a)(this,e)}return Object(f.a)(e,null,[{key:"initialize",value:function(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void M("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void M("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void M("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),J=(k={},Object(d.a)(k,"CREDENTIAL_MISMATCH","custom-token-mismatch"),Object(d.a)(k,"MISSING_CUSTOM_TOKEN","internal-error"),Object(d.a)(k,"INVALID_IDENTIFIER","invalid-email"),Object(d.a)(k,"MISSING_CONTINUE_URI","internal-error"),Object(d.a)(k,"INVALID_PASSWORD","wrong-password"),Object(d.a)(k,"MISSING_PASSWORD","internal-error"),Object(d.a)(k,"EMAIL_EXISTS","email-already-in-use"),Object(d.a)(k,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Object(d.a)(k,"INVALID_IDP_RESPONSE","invalid-credential"),Object(d.a)(k,"INVALID_PENDING_TOKEN","invalid-credential"),Object(d.a)(k,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Object(d.a)(k,"MISSING_REQ_TYPE","internal-error"),Object(d.a)(k,"EMAIL_NOT_FOUND","user-not-found"),Object(d.a)(k,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Object(d.a)(k,"EXPIRED_OOB_CODE","expired-action-code"),Object(d.a)(k,"INVALID_OOB_CODE","invalid-action-code"),Object(d.a)(k,"MISSING_OOB_CODE","internal-error"),Object(d.a)(k,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Object(d.a)(k,"INVALID_ID_TOKEN","invalid-user-token"),Object(d.a)(k,"TOKEN_EXPIRED","user-token-expired"),Object(d.a)(k,"USER_NOT_FOUND","user-token-expired"),Object(d.a)(k,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Object(d.a)(k,"INVALID_CODE","invalid-verification-code"),Object(d.a)(k,"INVALID_SESSION_INFO","invalid-verification-id"),Object(d.a)(k,"INVALID_TEMPORARY_PROOF","invalid-credential"),Object(d.a)(k,"MISSING_SESSION_INFO","missing-verification-id"),Object(d.a)(k,"SESSION_EXPIRED","code-expired"),Object(d.a)(k,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Object(d.a)(k,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Object(d.a)(k,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Object(d.a)(k,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Object(d.a)(k,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Object(d.a)(k,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Object(d.a)(k,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Object(d.a)(k,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Object(d.a)(k,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Object(d.a)(k,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Object(d.a)(k,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),k),G=new H(3e4,6e4);function B(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function X(e,t,r,n){return Y.apply(this,arguments)}function Y(){return(Y=Object(l.a)(regeneratorRuntime.mark((function e(t,r,n,i){var a,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.abrupt("return",Q(t,a,Object(l.a)(regeneratorRuntime.mark((function e(){var a,s,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},s={},i&&("GET"===r?s=i:a={body:JSON.stringify(i)}),o=Object(v.v)(Object.assign({key:t.config.apiKey},s)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",K.fetch()(te(t,t.config.apiHost,n,o),Object.assign({method:r,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t,r){return $.apply(this,arguments)}function $(){return($=Object(l.a)(regeneratorRuntime.mark((function e(t,r,n){var i,a,s,o,u,l,h,f,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},J),r),e.prev=2,a=new re(t),e.next=6,Promise.race([n(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(o=e.sent))){e.next=13;break}throw ne(t,"account-exists-with-different-credential",o);case 13:if(!s.ok||"errorMessage"in o){e.next=17;break}return e.abrupt("return",o);case 17:if(u=s.ok?o.errorMessage:o.error.message,l=u.split(" : "),h=Object(c.a)(l,2),f=h[0],p=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw ne(t,"credential-already-in-use",o);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw ne(t,"email-already-in-use",o);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw ne(t,"user-disabled",o);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw P(t,d,p);case 34:E(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof v.c)){e.next=41;break}throw e.t0;case 41:E(t,"internal-error",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Z(e,t,r,n){return ee.apply(this,arguments)}function ee(){return(ee=Object(l.a)(regeneratorRuntime.mark((function e(t,r,n,i){var a,s,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.next=3,X(t,r,n,i,a);case 3:return"mfaPendingCredential"in(s=e.sent)&&E(t,"multi-factor-auth-required",{_serverResponse:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t,r,n){var i="".concat(t).concat(r,"?").concat(n);return e.config.emulator?q(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var re=function(){function e(t){var r=this;Object(h.a)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){r.timer=setTimeout((function(){return t(S(r.auth,"network-request-failed"))}),G.get())}))}return Object(f.a)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ne(e,t,r){var n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);var i=S(e,t,n);return i.customData._tokenResponse=r,i}function ie(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(l.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:delete",r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(l.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:lookup",r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function ce(){return(ce=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,i,a,s,o,u,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]&&c[1],i=Object(v.n)(t),e.next=4,i.getIdToken(r);case 4:return a=e.sent,C((s=he(a))&&s.exp&&s.auth_time&&s.iat,i.auth,"internal-error"),o="object"===Object(n.a)(s.firebase)?s.firebase:void 0,u=null==o?void 0:o.sign_in_provider,e.abrupt("return",{claims:s,token:a,authTime:ue(le(s.auth_time)),issuedAtTime:ue(le(s.iat)),expirationTime:ue(le(s.exp)),signInProvider:u||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return 1e3*Number(e)}function he(e){var t=e.split("."),r=Object(c.a)(t,3),n=r[0],i=r[1],a=r[2];if(void 0===n||void 0===i||void 0===a)return T("JWT malformed, contained fewer than 3 sections"),null;try{var s=Object(v.e)(i);return s?JSON.parse(s):(T("Failed to decode base64 JWT payload"),null)}catch(e){return T("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function fe(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>2&&void 0!==n[2]&&n[2])){e.next=3;break}return e.abrupt("return",r);case 3:return e.prev=3,e.next=6,r;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof v.c&&de(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function de(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ve=function(){function e(t){Object(h.a)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}var t;return Object(f.a)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}this.errorBackoff=3e4;var n=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,n)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var r=this.getInterval(t);this.timerId=setTimeout(Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),r)}}},{key:"iteration",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return t.apply(this,arguments)})}]),e}(),me=function(){function e(t,r){Object(h.a)(this,e),this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}return Object(f.a)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ue(this.lastLoginAt),this.creationTime=ue(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ge(e){return be.apply(this,arguments)}function be(){return(be=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n,i,a,s,o,u,c,l,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,fe(t,se(n,{idToken:i}));case 6:C(null==(a=e.sent)?void 0:a.users.length,n,"internal-error"),s=a.users[0],t._notifyReloadListener(s),o=(null===(r=s.providerUserInfo)||void 0===r?void 0:r.length)?Oe(s.providerUserInfo):[],u=ye(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash||(null==u?void 0:u.length)),h=!!c&&l,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new me(s.createdAt,s.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return(ke=Object(l.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.n)(t),e.next=3,ge(r);case 3:return e.next=5,r.auth._persistUserIfCurrent(r);case 5:r.auth._notifyListenersIfCurrent(r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e,t){var r=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Object(p.a)(r),Object(p.a)(t))}function Oe(e){return e.map((function(e){var t=e.providerId,r=b(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}}))}function we(e,t){return Re.apply(this,arguments)}function Re(){return(Re=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t,{},Object(l.a)(regeneratorRuntime.mark((function e(){var n,i,a,s,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(v.v)({grant_type:"refresh_token",refresh_token:r}).slice(1),i=t.config,a=i.tokenApiHost,s=i.apiKey,o=te(t,a,"/v1/token","key=".concat(s)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",K.fetch()(o,{method:"POST",headers:u,body:n}));case 8:case"end":return e.stop()}}),e)}))));case 2:return n=e.sent,e.abrupt("return",{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _e=function(){function e(){Object(h.a)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}var t,r;return Object(f.a)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){C(e.idToken,"internal-error"),C(void 0!==e.idToken,"internal-error"),C(void 0!==e.refreshToken,"internal-error");var t,r,n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):(t=e.idToken,C(r=he(t),"internal-error"),C(void 0!==r.exp,"internal-error"),C(void 0!==r.iat,"internal-error"),Number(r.exp)-Number(r.iat));this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}},{key:"getToken",value:(r=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]&&n[1],C(!this.accessToken||this.refreshToken,t,"user-token-expired"),r||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(t,r);case 2:n=e.sent,i=n.accessToken,a=n.refreshToken,s=n.expiresIn,this.updateTokensAndExpiration(i,a,Number(s));case 7:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"updateTokensAndExpiration",value:function(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return M("not implemented")}}],[{key:"fromJSON",value:function(t,r){var n=r.refreshToken,i=r.accessToken,a=r.expirationTime,s=new e;return n&&(C("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),i&&(C("string"==typeof i,"internal-error",{appName:t}),s.accessToken=i),a&&(C("number"==typeof a,"internal-error",{appName:t}),s.expirationTime=a),s}}]),e}();function Ie(e,t){C("string"==typeof e||void 0===e,"internal-error",{appName:t})}var je=function(){function e(t){Object(h.a)(this,e);var r=t.uid,n=t.auth,i=t.stsTokenManager,a=b(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ve(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Object(p.a)(a.providerData):[],this.metadata=new me(a.createdAt||void 0,a.lastLoginAt||void 0)}var t,r,n,i;return Object(f.a)(e,[{key:"getIdToken",value:(i=Object(l.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(C(r=e.sent,this.auth,"internal-error"),this.accessToken===r){e.next=9;break}return this.accessToken=r,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getIdTokenResult",value:function(e){return function(e){return ce.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ke.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(C(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var r=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}},{key:"_onReload",value:function(e){C(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:(n=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]&&i[1],n=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),!r){e.next=6;break}return e.next=6,ge(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:n&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"delete",value:(r=Object(l.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,fe(this,ie(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,r){var n,i,a,s,o,u,c,l,h=null!==(n=r.displayName)&&void 0!==n?n:void 0,f=null!==(i=r.email)&&void 0!==i?i:void 0,p=null!==(a=r.phoneNumber)&&void 0!==a?a:void 0,d=null!==(s=r.photoURL)&&void 0!==s?s:void 0,v=null!==(o=r.tenantId)&&void 0!==o?o:void 0,m=null!==(u=r._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=r.createdAt)&&void 0!==c?c:void 0,b=null!==(l=r.lastLoginAt)&&void 0!==l?l:void 0,k=r.uid,y=r.emailVerified,O=r.isAnonymous,w=r.providerData,R=r.stsTokenManager;C(k&&R,t,"internal-error");var _=_e.fromJSON(this.name,R);C("string"==typeof k,t,"internal-error"),Ie(h,t.name),Ie(f,t.name),C("boolean"==typeof y,t,"internal-error"),C("boolean"==typeof O,t,"internal-error"),Ie(p,t.name),Ie(d,t.name),Ie(v,t.name),Ie(m,t.name),Ie(g,t.name),Ie(b,t.name);var I=new e({uid:k,auth:t,email:f,emailVerified:y,displayName:h,isAnonymous:O,photoURL:d,phoneNumber:p,tenantId:v,stsTokenManager:_,createdAt:g,lastLoginAt:b});return w&&Array.isArray(w)&&(I.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:(t=Object(l.a)(regeneratorRuntime.mark((function t(r,n){var i,a,s,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=o.length>2&&void 0!==o[2]&&o[2],(a=new _e).updateFromServerResponse(n),s=new e({uid:n.localId,auth:r,stsTokenManager:a,isAnonymous:i}),t.next=6,ge(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)}))),function(e,r){return t.apply(this,arguments)})}]),e}(),xe=function(){function e(){Object(h.a)(this,e),this.type="NONE",this.storage={}}var t,r,n,i;return Object(f.a)(e,[{key:"_isAvailable",value:(i=Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"_set",value:(n=Object(l.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=r;case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"_get",value:(r=Object(l.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.storage[t],e.abrupt("return",void 0===r?null:r);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_remove",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();xe.type="NONE";var Te=xe;function Ee(e,t,r){return"firebase".concat(":",e,":").concat(t,":").concat(r)}var Se=function(){function e(t,r,n){Object(h.a)(this,e),this.persistence=t,this.auth=r,this.userKey=n;var i=this.auth,a=i.config,s=i.name;this.fullUserKey=Ee(this.userKey,a.apiKey,s),this.fullPersistenceKey=Ee("persistence",a.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}var t,r,n;return Object(f.a)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:(n=Object(l.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?je._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:(r=Object(l.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return r=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!r){e.next=10;break}return e.abrupt("return",this.setCurrentUser(r));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:(t=Object(l.a)(regeneratorRuntime.mark((function t(r,n){var i,a,s,o,u,c,h,f,p,d,v,m=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:"authUser",n.length){t.next=3;break}return t.abrupt("return",new e(U(Te),r,i));case 3:return t.next=5,Promise.all(n.map(function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),s=a[0]||U(Te),o=Ee(i,r.config.apiKey,r.name),u=null,c=w(n),t.prev=10,c.s();case 12:if((h=c.n()).done){t.next=29;break}return f=h.value,t.prev=14,t.next=17,f._get(o);case 17:if(!(p=t.sent)){t.next=23;break}return d=je._fromJSON(r,p),f!==s&&(u=d),s=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(v=a.filter((function(e){return e._shouldAllowMigration})),s._shouldAllowMigration&&v.length){t.next=40;break}return t.abrupt("return",new e(s,r,i));case 40:if(s=v[0],!u){t.next=44;break}return t.next=44,s._set(o,u.toJSON());case 44:return t.next=46,Promise.all(n.map(function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===s){e.next=8;break}return e.prev=1,e.next=4,t._remove(o);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(s,r,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])}))),function(e,r){return t.apply(this,arguments)})}]),e}();function Pe(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Me(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ne(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(De(t))return"Blackberry";if(Ue(t))return"Webos";if(Ae(t))return"Safari";if((t.includes("chrome/")||Ce(t))&&!t.includes("edge/"))return"Chrome";if(Le(t))return"Android";var r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null==r?void 0:r.length)?r[1]:"Other"}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.o)();return/firefox\//i.test(e)}function Ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.o)(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.o)();return/crios\//i.test(e)}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.o)();return/iemobile/i.test(e)}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.o)();return/android/i.test(e)}function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.o)();return/blackberry/i.test(e)}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.o)();return/webos/i.test(e)}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.o)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ve(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.o)();return Fe(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ze(){return Object(v.r)()&&10===document.documentMode}function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.o)();return Fe(e)||Le(e)||Ue(e)||De(e)||/windows phone/i.test(e)||Me(e)}function He(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Pe(Object(v.o)());break;case"Worker":t="".concat(Pe(Object(v.o)()),"-").concat(e);break;default:t=e}var n=r.length?r.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(m.a,"/").concat(n)}var qe=function(){function e(t){Object(h.a)(this,e),this.auth=t,this.queue=[]}var t;return Object(f.a)(e,[{key:"pushCallback",value:function(e,t){var r=this,n=function(t){return new Promise((function(r,n){try{r(e(t))}catch(e){n(e)}}))};n.onAbort=t,this.queue.push(n);var i=this.queue.length-1;return function(){r.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n,i,a,s,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,n=w(this.queue),e.prev=5,n.s();case 7:if((i=n.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&r.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=w(r);try{for(s.s();!(o=s.n()).done;){u=o.value;try{u()}catch(e){}}}catch(e){s.e(e)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])}))),function(e){return t.apply(this,arguments)})}]),e}(),Ke=function(){function e(t,r,n){Object(h.a)(this,e),this.app=t,this.heartbeatServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ge(this),this.idTokenSubscription=new Ge(this),this.beforeStateQueue=new qe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}var t,r,n,i,a,s,o,u,c,p,m,g,b,k;return Object(f.a)(e,[{key:"_initializeWithPersistence",value:function(e,t){var r=this;return t&&(this._popupRedirectResolver=U(t)),this._initializationPromise=this.queue(Object(l.a)(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r._deleted){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,Se.create(r,e);case 4:if(r.persistenceManager=n.sent,!r._deleted){n.next=7;break}return n.abrupt("return");case 7:if(!(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){n.next=15;break}return n.prev=8,n.next=11,r._popupRedirectResolver._initialize(r);case 11:n.next=15;break;case 13:n.prev=13,n.t0=n.catch(8);case 15:return n.next=17,r.initializeCurrentUser(t);case 17:if(r.lastNotifiedUid=(null===(a=r.currentUser)||void 0===a?void 0:a.uid)||null,!r._deleted){n.next=20;break}return n.abrupt("return");case 20:r._isInitialized=!0;case 21:case"end":return n.stop()}}),n,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:(k=Object(l.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"initializeCurrentUser",value:(b=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n,i,a,s,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(n=e.sent,i=n,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return s=null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,s&&s!==o||!(null==u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=n,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return C(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])}))),function(e){return b.apply(this,arguments)})},{key:"tryRedirectSignIn",value:(g=Object(l.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:r=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e){return g.apply(this,arguments)})},{key:"reloadAndSetCurrentUserOrClear",value:(m=Object(l.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(e){return m.apply(this,arguments)})},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"==typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:(p=Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"updateCurrentUser",value:(c=Object(l.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=t?Object(v.n)(t):null)&&C(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(r&&r._clone(this)));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"_updateCurrentUser",value:(u=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n=this,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&C(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"signOut",value:(o=Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"setPersistence",value:function(e){var t=this;return this.queue(Object(l.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.assertedPersistence.setPersistence(U(e));case 2:case"end":return r.stop()}}),r)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new v.b("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:(s=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(r);case 2:return n=e.sent,e.abrupt("return",null===t?n.removeCurrentUser():n.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"getOrInitRedirectPersistenceManager",value:(a=Object(l.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return C(r=t&&U(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Se.create(this,[U(r._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"_redirectUserForId",value:(i=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(r=this._currentUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_persistUserIfCurrent",value:(n=Object(l.a)(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,r,n){var i=this;if(this._deleted)return function(){};var a="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return C(s,this,"internal-error"),s.then((function(){return a(i.currentUser)})),"function"==typeof t?e.addObserver(t,r,n):e.addObserver(t)}},{key:"directlySetCurrentUser",value:(r=Object(l.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return C(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=He(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(d.a)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(n=e.sent)&&(r["X-Firebase-Client"]=n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();function Je(e){return Object(v.n)(e)}var Ge=function(){function e(t){var r=this;Object(h.a)(this,e),this.auth=t,this.observer=null,this.addObserver=Object(v.h)((function(e){return r.observer=e}))}return Object(f.a)(e,[{key:"next",get:function(){return C(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Be(e,t,r){var n=Je(e);C(n._canInitEmulator,n,"emulator-config-failed"),C(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");var i=!!(null==r?void 0:r.disableWarnings),a=Xe(t),s=function(e){var t=Xe(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};var n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){var a=i[1];return{host:a,port:Ye(n.substr(a.length+1))}}var s=n.split(":"),o=Object(c.a)(s,2);return{host:o[0],port:Ye(o[1])}}(t),o=s.host,u=s.port,l=null===u?"":":".concat(u);n.config.emulator={url:"".concat(a,"//").concat(o).concat(l,"/")},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&console.info;"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Xe(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ye(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Qe=function(){function e(t,r){Object(h.a)(this,e),this.providerId=t,this.signInMethod=r}return Object(f.a)(e,[{key:"toJSON",value:function(){return M("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return M("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return M("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return M("not implemented")}}]),e}();function $e(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(l.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:update",r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=Object(l.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,"POST","/v1/accounts:signInWithPassword",B(t,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=Object(l.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,"POST","/v1/accounts:signInWithEmailLink",B(t,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e,t){return at.apply(this,arguments)}function at(){return(at=Object(l.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,"POST","/v1/accounts:signInWithEmailLink",B(t,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var st=function(e){Object(s.a)(i,e);var t,r,n=O(i);function i(e,t,r){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(h.a)(this,i),(a=n.call(this,"password",r))._email=e,a._password=t,a._tenantId=s,a}return Object(f.a)(i,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:(r=Object(l.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",et(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",rt(t,{email:this._email,oobCode:this._password}));case 5:E(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_linkToIdToken",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",$e(t,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",it(t,{idToken:r,email:this._email,oobCode:this._password}));case 5:E(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new i(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new i(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),i}(Qe);function ot(e,t){return ut.apply(this,arguments)}function ut(){return(ut=Object(l.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,"POST","/v1/accounts:signInWithIdp",B(t,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ct=function(e){Object(s.a)(r,e);var t=O(r);function r(){var e;return Object(h.a)(this,r),(e=t.apply(this,arguments)).pendingToken=null,e}return Object(f.a)(r,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ot(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var r=this.buildRequest();return r.idToken=t,ot(e,r)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ot(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(v.v)(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):E("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=t.providerId,i=t.signInMethod,a=b(t,["providerId","signInMethod"]);if(!n||!i)return null;var s=new r(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}}]),r}(Qe);function lt(e,t){return ht.apply(this,arguments)}function ht(){return(ht=Object(l.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X(t,"POST","/v1/accounts:sendVerificationCode",B(t,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(){return(ft=Object(l.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(t,"POST","/v1/accounts:signInWithPhoneNumber",B(t,r)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(){return(pt=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t,"POST","/v1/accounts:signInWithPhoneNumber",B(t,r));case 2:if(!(n=e.sent).temporaryProof){e.next=5;break}throw ne(t,"account-exists-with-different-credential",n);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dt=Object(d.a)({},"USER_NOT_FOUND","user-not-found");function vt(){return(vt=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign(Object.assign({},r),{operation:"REAUTH"}),e.abrupt("return",Z(t,"POST","/v1/accounts:signInWithPhoneNumber",B(t,n),dt));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mt=function(e){Object(s.a)(r,e);var t=O(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,"phone","phone")).params=e,n}return Object(f.a)(r,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ft.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return pt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return vt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,r=e.phoneNumber,n=e.verificationId,i=e.verificationCode;return t&&r?{temporaryProof:t,phoneNumber:r}:{sessionInfo:n,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new r({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new r({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"==typeof e&&(e=JSON.parse(e));var t=e,n=t.verificationId,i=t.verificationCode,a=t.phoneNumber,s=t.temporaryProof;return i||n||a||s?new r({verificationId:n,verificationCode:i,phoneNumber:a,temporaryProof:s}):null}}]),r}(Qe);var gt=function(){function e(t){var r,n,i,a,s,o;Object(h.a)(this,e);var u=Object(v.w)(Object(v.j)(t)),c=null!==(r=u.apiKey)&&void 0!==r?r:null,l=null!==(n=u.oobCode)&&void 0!==n?n:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);C(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=u.tenantId)&&void 0!==o?o:null}return Object(f.a)(e,null,[{key:"parseLink",value:function(t){var r=function(e){var t=Object(v.w)(Object(v.j)(e)).link,r=t?Object(v.w)(Object(v.j)(t)).deep_link_id:null,n=Object(v.w)(Object(v.j)(e)).deep_link_id;return(n?Object(v.w)(Object(v.j)(n)).link:null)||n||r||t||e}(t);try{return new e(r)}catch(e){return null}}}]),e}();var bt=function(){function e(){Object(h.a)(this,e),this.providerId=e.PROVIDER_ID}return Object(f.a)(e,null,[{key:"credential",value:function(e,t){return st._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var r=gt.parseLink(t);return C(r,"argument-error"),st._fromEmailAndCode(e,r.code,r.tenantId)}}]),e}();bt.PROVIDER_ID="password",bt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",bt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var kt=function(){function e(t){Object(h.a)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Object(f.a)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),yt=function(e){Object(s.a)(r,e);var t=O(r);function r(){var e;return Object(h.a)(this,r),(e=t.apply(this,arguments)).scopes=[],e}return Object(f.a)(r,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Object(p.a)(this.scopes)}}]),r}(kt),Ot=function(e){Object(s.a)(r,e);var t=O(r);function r(){return Object(h.a)(this,r),t.apply(this,arguments)}return Object(f.a)(r,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return C(e.idToken||e.accessToken,"argument-error"),ct._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return C("providerId"in t&&"signInMethod"in t,"argument-error"),ct._fromParams(t)}},{key:"credentialFromResult",value:function(e){return r.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,s=t.pendingToken,o=t.nonce,u=t.providerId;if(!(i||a||n||s))return null;if(!u)return null;try{return new r(u)._credential({idToken:n,accessToken:i,nonce:o,pendingToken:s})}catch(e){return null}}}]),r}(yt),wt=function(e){Object(s.a)(r,e);var t=O(r);function r(){return Object(h.a)(this,r),t.call(this,"facebook.com")}return Object(f.a)(r,null,[{key:"credential",value:function(e){return ct._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return r.credential(t.oauthAccessToken)}catch(e){return null}}}]),r}(yt);wt.FACEBOOK_SIGN_IN_METHOD="facebook.com",wt.PROVIDER_ID="facebook.com";var Rt=function(e){Object(s.a)(r,e);var t=O(r);function r(){var e;return Object(h.a)(this,r),(e=t.call(this,"google.com")).addScope("profile"),e}return Object(f.a)(r,null,[{key:"credential",value:function(e,t){return ct._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.oauthIdToken,i=t.oauthAccessToken;if(!n&&!i)return null;try{return r.credential(n,i)}catch(e){return null}}}]),r}(yt);Rt.GOOGLE_SIGN_IN_METHOD="google.com",Rt.PROVIDER_ID="google.com";var _t=function(e){Object(s.a)(r,e);var t=O(r);function r(){return Object(h.a)(this,r),t.call(this,"github.com")}return Object(f.a)(r,null,[{key:"credential",value:function(e){return ct._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return r.credential(t.oauthAccessToken)}catch(e){return null}}}]),r}(yt);_t.GITHUB_SIGN_IN_METHOD="github.com",_t.PROVIDER_ID="github.com";var It=function(e){Object(s.a)(r,e);var t=O(r);function r(){return Object(h.a)(this,r),t.call(this,"twitter.com")}return Object(f.a)(r,null,[{key:"credential",value:function(e,t){return ct._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.oauthAccessToken,i=t.oauthTokenSecret;if(!n||!i)return null;try{return r.credential(n,i)}catch(e){return null}}}]),r}(yt);It.TWITTER_SIGN_IN_METHOD="twitter.com",It.PROVIDER_ID="twitter.com";var jt=function(){function e(t){Object(h.a)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}var t,r;return Object(f.a)(e,null,[{key:"_fromIdTokenResponse",value:(r=Object(l.a)(regeneratorRuntime.mark((function t(r,n,i){var a,s,o,u,c=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,je._fromIdTokenResponse(r,i,a);case 3:return s=t.sent,o=xt(i),u=new e({user:s,providerId:o,_tokenResponse:i,operationType:n}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"_forOperation",value:(t=Object(l.a)(regeneratorRuntime.mark((function t(r,n,i){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r._updateTokensIfNecessary(i,!0);case 2:return a=xt(i),t.abrupt("return",new e({user:r,providerId:a,_tokenResponse:i,operationType:n}));case 4:case"end":return t.stop()}}),t)}))),function(e,r,n){return t.apply(this,arguments)})}]),e}();function xt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Tt=function(e){Object(s.a)(r,e);var t=O(r);function r(e,n,i,s){var o,u;return Object(h.a)(this,r),(o=t.call(this,n.code,n.message)).operationType=i,o.user=s,Object.setPrototypeOf(Object(a.a)(o),r.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:n.customData._serverResponse,operationType:i},o}return Object(f.a)(r,null,[{key:"_fromErrorAndOperation",value:function(e,t,n,i){return new r(e,t,n,i)}}]),r}(v.c);function Et(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch((function(r){if(r.code==="auth/".concat("multi-factor-auth-required"))throw Tt._fromErrorAndOperation(e,r,t,n);throw r}))}function St(e,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]&&a[2],e.t0=fe,e.t1=t,e.t2=r,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=n,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",jt._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(e,t){return At.apply(this,arguments)}function At(){return(At=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n,i,a,s,o,u,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,fe(t,Et(i,a,r,t),n);case 6:return C((s=e.sent).idToken,i,"internal-error"),C(o=he(s.idToken),i,"internal-error"),u=o.sub,C(t.uid===u,i,"user-mismatch"),e.abrupt("return",jt._forOperation(t,a,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&E(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function Ct(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n,i,a,s,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]&&o[2],i="signIn",e.next=4,Et(t,i,r);case 4:return a=e.sent,e.next=7,jt._fromIdTokenResponse(t,i,a);case 7:if(s=e.sent,n){e.next=11;break}return e.next=11,t._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e,t,r,n){return Object(v.n)(e).onIdTokenChanged(t,r,n)}function Dt(e,t,r){return Object(v.n)(e).beforeAuthStateChanged(t,r)}function Ut(e,t){return X(e,"POST","/v2/accounts/mfaEnrollment:start",B(e,t))}new WeakMap;var Ft="__sak",Vt=function(){function e(t,r){Object(h.a)(this,e),this.storageRetriever=t,this.type=r}return Object(f.a)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ft,"1"),this.storage.removeItem(Ft),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var zt=function(e){Object(s.a)(o,e);var t,r,n,a=O(o);function o(){var e,t;return Object(h.a)(this,o),(e=a.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,r){return e.onStorageEvent(t,r)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=(Ae(t=Object(v.o)())||Fe(t))&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=We(),e._shouldAllowMigration=!0,e}return Object(f.a)(o,[{key:"forAllChangedKeys",value:function(e){for(var t=0,r=Object.keys(this.listeners);t<r.length;t++){var n=r[t],i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var n=e.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!r)return}var a=function(){var e=t.storage.getItem(n);(r||t.localCache[n]!==e)&&t.notifyListeners(n,e)},s=this.storage.getItem(n);ze()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,r,n){t.notifyListeners(e,n)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var r=this.listeners[e];if(r)for(var n=0,i=Array.from(r);n<i.length;n++){(0,i[n])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,r,n){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:(n=Object(l.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(u.a)(o.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"_get",value:(r=Object(l.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(u.a)(o.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_remove",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(u.a)(o.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),o}(Vt);zt.type="LOCAL";var Wt=zt,Ht=function(e){Object(s.a)(r,e);var t=O(r);function r(){return Object(h.a)(this,r),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Object(f.a)(r,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),r}(Vt);Ht.type="SESSION";var qt=Ht;function Kt(e){return Promise.all(e.map(function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return r=e.sent,e.abrupt("return",{fulfilled:!0,value:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Jt=function(){function e(t){Object(h.a)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}var t;return Object(f.a)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n,i,a,s,o,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(r=t).data,i=n.eventId,a=n.eventType,s=n.data,null==(o=this.handlersMap[a])?void 0:o.size){e.next=5;break}return e.abrupt("return");case 5:return r.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(o).map(function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(r.origin,s));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Kt(u);case 9:c=e.sent,r.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var r=this.receivers.find((function(e){return e.isListeningto(t)}));if(r)return r;var n=new e(t);return this.receivers.push(n),n}}]),e}();function Gt(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r="",n=0;n<t;n++)r+=Math.floor(10*Math.random());return e+r}Jt.receivers=[];var Bt=function(){function e(t){Object(h.a)(this,e),this.target=t,this.handlers=new Set}var t;return Object(f.a)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n,i,a,s,o=this,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!=typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Gt("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage:function(t){var r=t;if(r.data.eventId===c)switch(r.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(r.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},o.handlers.add(s),i.port1.addEventListener("message",s.onMessage),o.target.postMessage({eventType:t,eventId:c,data:r},[i.port2])})).finally((function(){s&&o.removeMessageHandler(s)})));case 5:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})}]),e}();function Xt(){return window}function Yt(){return void 0!==Xt().WorkerGlobalScope&&"function"==typeof Xt().importScripts}function Qt(){return $t.apply(this,arguments)}function $t(){return($t=Object(l.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var Zt="firebaseLocalStorageDb",er="firebaseLocalStorage",tr="fbase_key",rr=function(){function e(t){Object(h.a)(this,e),this.request=t}return Object(f.a)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,r){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){r(e.request.error)}))}))}}]),e}();function nr(e,t){return e.transaction([er],t?"readwrite":"readonly").objectStore(er)}function ir(){var e=indexedDB.deleteDatabase(Zt);return new rr(e).toPromise()}function ar(){var e=indexedDB.open(Zt,1);return new Promise((function(t,r){e.addEventListener("error",(function(){r(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(er,{keyPath:tr})}catch(e){r(e)}})),e.addEventListener("success",Object(l.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((n=e.result).objectStoreNames.contains(er)){r.next=12;break}return n.close(),r.next=5,ir();case 5:return r.t0=t,r.next=8,ar();case 8:r.t1=r.sent,(0,r.t0)(r.t1),r.next=13;break;case 12:t(n);case 13:case"end":return r.stop()}}),r)}))))}))}function sr(e,t,r){return or.apply(this,arguments)}function or(){return(or=Object(l.a)(regeneratorRuntime.mark((function e(t,r,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=nr(t,!0).put((i={},Object(d.a)(i,tr,r),Object(d.a)(i,"value",n),i)),e.abrupt("return",new rr(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ur(e,t){return cr.apply(this,arguments)}function cr(){return(cr=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nr(t,!1).get(r),e.next=3,new rr(n).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lr(e,t){var r=nr(e,!0).delete(t);return new rr(r).toPromise()}var hr=function(){function e(){Object(h.a)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}var t,r,n,i,a,s,o,u,c,p,d,v;return Object(f.a)(e,[{key:"_openDb",value:(v=Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ar();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"_withRetries",value:(d=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return n=e.sent,e.next=8,t(n);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(r++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(e){return d.apply(this,arguments)})},{key:"initializeServiceWorkerMessaging",value:(p=Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yt()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"initializeReceiver",value:(c=Object(l.a)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Jt._getInstance(Yt()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(n.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"initializeSender",value:(u=Object(l.a)(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Bt(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(n=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(r=n[0])||void 0===r?void 0:r.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"notifyServiceWorker",value:(o=Object(l.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&(r=void 0,((null===(r=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===r?void 0:r.controller)||null)===this.activeServiceWorker)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}var r}),e,this,[[2,7]])}))),function(e){return o.apply(this,arguments)})},{key:"_isAvailable",value:(s=Object(l.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ar();case 5:return t=e.sent,e.next=8,sr(t,Ft,"1");case 8:return e.next=10,lr(t,Ft);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),function(){return s.apply(this,arguments)})},{key:"_withPendingWrite",value:(a=Object(l.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])}))),function(e){return a.apply(this,arguments)})},{key:"_set",value:(i=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return sr(e,t,r)}));case 2:return n.localCache[t]=r,e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"_get",value:(n=Object(l.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ur(e,t)}));case 2:return r=e.sent,this.localCache[t]=r,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_remove",value:(r=Object(l.a)(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return lr(e,t)}));case 2:return delete r.localCache[t],e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_poll",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(){var t,r,n,i,a,s,o,u,c,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=nr(e,!1).getAll();return new rr(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:r=[],n=new Set,i=w(t);try{for(i.s();!(a=i.n()).done;)s=a.value,o=s.fbase_key,u=s.value,n.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),r.push(o))}catch(e){i.e(e)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!n.has(h)&&(this.notifyListeners(h,null),r.push(h));return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var r=this.listeners[e];if(r)for(var n=0,i=Array.from(r);n<i.length;n++){(0,i[n])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();hr.type="LOCAL";var fr=hr;function pr(e,t){return X(e,"POST","/v2/accounts/mfaSignIn:start",B(e,t))}function dr(e){return new Promise((function(t,r){var n,i,a=document.createElement("script");a.setAttribute("src",e),a.onload=t,a.onerror=function(e){var t=S("internal-error");t.customData=e,r(t)},a.type="text/javascript",a.charset="UTF-8",(null!==(i=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==i?i:document).appendChild(a)}))}function vr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}vr("rcb"),new H(3e4,6e4);var mr="recaptcha";function gr(e,t,r){return br.apply(this,arguments)}function br(){return(br=Object(l.a)(regeneratorRuntime.mark((function e(t,r,n){var i,a,s,o,u,c,l,h,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.verify();case 2:if(a=e.sent,e.prev=3,C("string"==typeof a,t,"argument-error"),C(n.type===mr,t,"argument-error"),!("session"in(s="string"==typeof r?{phoneNumber:r}:r))){e.next=26;break}if(o=s.session,!("phoneNumber"in s)){e.next=17;break}return C("enroll"===o.type,t,"internal-error"),e.next=13,Ut(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return C("signin"===o.type,t,"internal-error"),C(c=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,pr(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,lt(t,{phoneNumber:s.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,n._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}var kr=function(){function e(t){Object(h.a)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Je(t)}return Object(f.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return gr(this.auth,e,Object(v.n)(t))}}],[{key:"credential",value:function(e,t){return mt._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var r=t;return e.credentialFromTaggedObject(r)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.phoneNumber,n=t.temporaryProof;return r&&n?mt._fromTokenResponse(r,n):null}}]),e}();function yr(e,t){return t?U(t):(C(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}kr.PROVIDER_ID="phone",kr.PHONE_SIGN_IN_METHOD="phone";var Or=function(e){Object(s.a)(r,e);var t=O(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,"custom","custom")).params=e,n}return Object(f.a)(r,[{key:"_getIdTokenResponse",value:function(e){return ot(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ot(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ot(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),r}(Qe);function wr(e){return Ct(e.auth,new Or(e),e.bypassAuthState)}function Rr(e){var t=e.auth,r=e.user;return C(r,t,"internal-error"),Nt(r,new Or(e),e.bypassAuthState)}function _r(e){return Ir.apply(this,arguments)}function Ir(){return(Ir=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,C(n=t.user,r,"internal-error"),e.abrupt("return",St(n,new Or(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jr=function(){function e(t,r,n,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(h.a)(this,e),this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}var t;return Object(f.a)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(r,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:r,reject:n},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n,i,a,s,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.urlResponse,n=t.sessionId,i=t.postBody,a=t.tenantId,s=t.error,o=t.type,!s){e.next=4;break}return this.reject(s),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(o)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])}))),function(e){return t.apply(this,arguments)})},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wr;case"linkViaPopup":case"linkViaRedirect":return _r;case"reauthViaPopup":case"reauthViaRedirect":return Rr;default:E(this.auth,"internal-error")}}},{key:"resolve",value:function(e){L(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){L(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),xr=new H(2e3,1e4);function Tr(e,t,r){return Er.apply(this,arguments)}function Er(){return(Er=Object(l.a)(regeneratorRuntime.mark((function e(t,r,n){var i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Je(t),N(t,r,kt),a=yr(i,n),s=new Sr(i,"signInViaPopup",r,a),e.abrupt("return",s.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sr=function(e){Object(s.a)(i,e);var t,r,n=O(i);function i(e,t,r,s,o){var u;return Object(h.a)(this,i),(u=n.call(this,e,t,s,o)).provider=r,u.authWindow=null,u.pollId=null,i.currentPopupAction&&i.currentPopupAction.cancel(),i.currentPopupAction=Object(a.a)(u),u}return Object(f.a)(i,[{key:"executeNotNull",value:(r=Object(l.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return C(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"onExecution",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(1===this.filter.length,"Popup operations only handle one event"),t=Gt(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){r.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||r.reject(S(r.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(S(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,i.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var r,n;(null===(n=null===(r=e.authWindow)||void 0===r?void 0:r.window)||void 0===n?void 0:n.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(S(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,xr.get())}()}}]),i}(jr);Sr.currentPopupAction=null;var Pr=new Map,Nr=function(e){Object(s.a)(o,e);var t,r,n,a=O(o);function o(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(h.a)(this,o),(r=a.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n)).eventId=null,r}return Object(f.a)(o,[{key:"execute",value:(n=Object(l.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Pr.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ar(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Object(i.a)(Object(u.a)(o.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Pr.set(this.auth._key(),t);case 21:return this.bypassAuthState||Pr.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])}))),function(){return n.apply(this,arguments)})},{key:"onAuthEvent",value:(r=Object(l.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Object(i.a)(Object(u.a)(o.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Object(i.a)(Object(u.a)(o.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"onExecution",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"cleanUp",value:function(){}}]),o}(jr);function Ar(e,t){return Cr.apply(this,arguments)}function Cr(){return(Cr=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Dr(r),i=Lr(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(n);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(n);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mr(e,t){Pr.set(e._key(),t)}function Lr(e){return U(e._redirectPersistence)}function Dr(e){return Ee("pendingRedirect",e.config.apiKey,e.name)}function Ur(e,t){return Fr.apply(this,arguments)}function Fr(){return(Fr=Object(l.a)(regeneratorRuntime.mark((function e(t,r){var n,i,a,s,o,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]&&u[2],i=Je(t),a=yr(i,r),s=new Nr(i,a,n),e.next=6,s.execute();case 6:if(!(o=e.sent)||n){e.next=13;break}return delete o.user._redirectEventId,e.next=11,i._persistUserIfCurrent(o.user);case 11:return e.next=13,i._setRedirectUser(null,r);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vr=function(){function e(t){Object(h.a)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Object(f.a)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach((function(n){t.isEventForConsumer(e,n)&&(r=!0,t.sendToConsumer(e,n),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}},{key:"sendToConsumer",value:function(e,t){var r;if(e.error&&!Wr(e)){var n=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(S(this.auth,n))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zr(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(zr(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function zr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Wr(e){var t=e.type,r=e.error;return"unknown"===t&&(null==r?void 0:r.code)==="auth/".concat("no-auth-event")}function Hr(e){return qr.apply(this,arguments)}function qr(){return(qr=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",X(t,"GET","/v1/projects",r));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jr=/^https?/;function Gr(){return(Gr=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Hr(t);case 4:r=e.sent,n=r.authorizedDomains,i=w(n),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(s=a.value,e.prev=11,!Br(s)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:E(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Br(e){var t=V(),r=new URL(t),n=r.protocol,i=r.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===i}if(!Jr.test(n))return!1;if(Kr.test(e))return i===e;var s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}var Xr=new H(3e4,6e4);function Yr(){var e=Xt().___jsl;if(null==e?void 0:e.H)for(var t=0,r=Object.keys(e.H);t<r.length;t++){var n=r[t];if(e.H[n].r=e.H[n].r||[],e.H[n].L=e.H[n].L||[],e.H[n].r=Object(p.a)(e.H[n].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Qr=null;function $r(e){return Qr=Qr||function(e){return new Promise((function(t,r){var n,i,a;function s(){Yr(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Yr(),r(S(e,"network-request-failed"))},timeout:Xr.get()})}if(null===(i=null===(n=Xt().gapi)||void 0===n?void 0:n.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Xt().gapi)||void 0===a?void 0:a.load)){var o=vr("iframefcb");return Xt()[o]=function(){gapi.load?s():r(S(e,"network-request-failed"))},dr("https://apis.google.com/js/api.js?onload=".concat(o)).catch((function(e){return r(e)}))}s()}})).catch((function(e){throw Qr=null,e}))}(e)}var Zr=new H(5e3,15e3),en={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rn(e){var t=e.config;C(t.authDomain,e,"auth-domain-config-required");var r=t.emulator?q(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),n={apiKey:t.apiKey,appName:e.name,v:m.a},i=tn.get(e.config.apiHost);i&&(n.eid=i);var a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),"".concat(r,"?").concat(Object(v.v)(n).slice(1))}function nn(e){return an.apply(this,arguments)}function an(){return(an=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$r(t);case 2:return r=e.sent,C(n=Xt().gapi,t,"internal-error"),e.abrupt("return",r.open({where:document.body,url:rn(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:en,dontclear:!0},(function(e){return new Promise(function(){var r=Object(l.a)(regeneratorRuntime.mark((function r(n,i){var a,s,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=function(){Xt().clearTimeout(s),n(e)},r.next=3,e.restyle({setHideOnLeave:!1});case 3:a=S(t,"network-request-failed"),s=Xt().setTimeout((function(){i(a)}),Zr.get()),e.ping(o).then(o,(function(){i(a)}));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},on="_blank",un="http://localhost",cn=function(){function e(t){Object(h.a)(this,e),this.window=t,this.associatedEvent=null}return Object(f.a)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function ln(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString(),o="",u=Object.assign(Object.assign({},sn),{width:n.toString(),height:i.toString(),top:a,left:s}),l=Object(v.o)().toLowerCase();r&&(o=Ce(l)?on:r),Ne(l)&&(t=t||un,u.scrollbars="yes");var h=Object.entries(u).reduce((function(e,t){var r=Object(c.a)(t,2),n=r[0],i=r[1];return"".concat(e).concat(n,"=").concat(i,",")}),"");if(Ve(l)&&"_self"!==o)return hn(t||"",o),new cn(null);var f=window.open(t||"",o,h);C(f,e,"popup-blocked");try{f.focus()}catch(e){}return new cn(f)}function hn(e,t){var r=document.createElement("a");r.href=e,r.target=t;var n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}var fn="__/auth/handler",pn="emulator/auth/handler";function dn(e,t,r,n,i,a){C(e.config.authDomain,e,"auth-domain-config-required"),C(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:m.a,eventId:i};if(t instanceof kt){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Object(v.q)(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var o=0,u=Object.entries(a||{});o<u.length;o++){var l=Object(c.a)(u[o],2),h=l[0],f=l[1];s[h]=f}}if(t instanceof yt){var p=t.getScopes().filter((function(e){return""!==e}));p.length>0&&(s.scopes=p.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var d=s,g=0,b=Object.keys(d);g<b.length;g++){var k=b[g];void 0===d[k]&&delete d[k]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(fn);return q(t,pn)}(e),"?").concat(Object(v.v)(d).slice(1))}var vn="webStorageSupport",mn=function(){function e(){Object(h.a)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qt,this._completeRedirectFn=Ur,this._overrideRedirectResult=Mr}var t,r,n;return Object(f.a)(e,[{key:"_openPopup",value:(n=Object(l.a)(regeneratorRuntime.mark((function e(t,r,n,i){var a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),s=dn(t,r,n,V(),i),e.abrupt("return",ln(t,s,Gt()));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,r,i){return n.apply(this,arguments)})},{key:"_openRedirect",value:(r=Object(l.a)(regeneratorRuntime.mark((function e(t,r,n,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=dn(t,r,n,V(),i),Xt().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)}))),function(e,t,n,i){return r.apply(this,arguments)})},{key:"_initialize",value:function(e){var t=this,r=e._key();if(this.eventManagers[r]){var n=this.eventManagers[r],i=n.manager,a=n.promise;return i?Promise.resolve(i):(L(a,"If manager is not set, promise should be"),a)}var s=this.initAndGetManager(e);return this.eventManagers[r]={promise:s},s.catch((function(){delete t.eventManagers[r]})),s}},{key:"initAndGetManager",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nn(t);case 2:return r=e.sent,n=new Vr(t),r.register("authEvent",(function(e){return C(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(vn,{type:vn},(function(r){var n,i=null===(n=null==r?void 0:r[0])||void 0===n?void 0:n.webStorageSupport;void 0!==i&&t(!!i),E(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Gr.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return We()||Ae()||Fe()}}]),e}(),gn=function(e){Object(s.a)(r,e);var t=O(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,"phone")).credential=e,n}return Object(f.a)(r,[{key:"_finalizeEnroll",value:function(e,t,r){return function(e,t){return X(e,"POST","/v2/accounts/mfaEnrollment:finalize",B(e,t))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return X(e,"POST","/v2/accounts/mfaSignIn:finalize",B(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new r(e)}}]),r}(function(){function e(t){Object(h.a)(this,e),this.factorId=t}return Object(f.a)(e,[{key:"_process",value:function(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return M("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){Object(h.a)(this,e)}return Object(f.a)(e,null,[{key:"assertion",value:function(e){return gn._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var bn="@firebase/auth",kn="0.21.5",yn=function(){function e(t){Object(h.a)(this,e),this.auth=t,this.internalListeners=new Map}var t;return Object(f.a)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:(t=Object(l.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return r=e.sent,e.abrupt("return",{accessToken:r});case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){C(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var On,wn=Object(v.m)("authIdTokenMaxAge")||300,Rn=null,_n=function(e){return function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(r){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=r,!t.t0){t.next=5;break}return t.next=4,r.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(n=t.t0,!((i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3)&&i>wn)){t.next=9;break}return t.abrupt("return");case 9:if(a=null==n?void 0:n.token,Rn!==a){t.next=12;break}return t.abrupt("return");case 12:return Rn=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function In(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.d)(),t=Object(m.b)(e,"auth");if(t.isInitialized())return t.getImmediate();var r=F(e,{popupRedirectResolver:mn,persistence:[fr,Wt,qt]}),n=Object(v.m)("authTokenSyncURL");if(n){var i=_n(n);Dt(r,i,(function(){return i(r.currentUser)})),Lt(r,(function(e){return i(e)}))}var a=Object(v.l)("auth");return a&&Be(r,"http://".concat(a)),r}On="Browser",Object(m.c)(new y.a("auth",(function(e,t){var r=t.options,n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=n.options,s=a.apiKey,o=a.authDomain;return function(e,t){C(s&&!s.includes(":"),"invalid-api-key",{appName:e.name}),C(!(null==o?void 0:o.includes(":")),"argument-error",{appName:e.name});var n={apiKey:s,authDomain:o,clientPlatform:On,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:He(On)},i=new Ke(e,t,n);return function(e,t){var r=(null==t?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(U);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null==t?void 0:t.popupRedirectResolver)}(i,r),i}(n,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,r){e.getProvider("auth-internal").initialize()}))),Object(m.c)(new y.a("auth-internal",(function(e){return function(e){return new yn(e)}(Je(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Object(m.f)(bn,kn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(On)),Object(m.f)(bn,kn,"esm2017")},1795:function(e,t,r){"use strict";var n=r(16),i=r(40);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},1796:function(e,t,r){var n=r(16),i=r(659),a=r(23),s=r(64),o=r(400).onFreeze,u=Object.freeze;n({target:"Object",stat:!0,forced:a((function(){u(1)})),sham:!i},{freeze:function(e){return u&&s(e)?u(o(e)):e}})},1797:function(e,t,r){"use strict";var n=r(16),i=r(408);n({target:"String",proto:!0,forced:r(409)("link")},{link:function(e){return i(this,"a","href",e)}})},1798:function(e,t,r){"use strict";var n,i=r(659),a=r(34),s=r(22),o=r(309),u=r(400),c=r(407),l=r(1799),h=r(64),f=r(112).enforce,p=r(23),d=r(665),v=Object,m=Array.isArray,g=v.isExtensible,b=v.isFrozen,k=v.isSealed,y=v.freeze,O=v.seal,w={},R={},_=!a.ActiveXObject&&"ActiveXObject"in a,I=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},j=c("WeakMap",I,l),x=j.prototype,T=s(x.set);if(d)if(_){n=l.getConstructor(I,"WeakMap",!0),u.enable();var E=s(x.delete),S=s(x.has),P=s(x.get);o(x,{delete:function(e){if(h(e)&&!g(e)){var t=f(this);return t.frozen||(t.frozen=new n),E(this,e)||t.frozen.delete(e)}return E(this,e)},has:function(e){if(h(e)&&!g(e)){var t=f(this);return t.frozen||(t.frozen=new n),S(this,e)||t.frozen.has(e)}return S(this,e)},get:function(e){if(h(e)&&!g(e)){var t=f(this);return t.frozen||(t.frozen=new n),S(this,e)?P(this,e):t.frozen.get(e)}return P(this,e)},set:function(e,t){if(h(e)&&!g(e)){var r=f(this);r.frozen||(r.frozen=new n),S(this,e)?T(this,e,t):r.frozen.set(e,t)}else T(this,e,t);return this}})}else i&&p((function(){var e=y([]);return T(new j,e,1),!b(e)}))&&o(x,{set:function(e,t){var r;return m(e)&&(b(e)?r=w:k(e)&&(r=R)),T(this,e,t),r==w&&y(e),r==R&&O(e),this}})},1799:function(e,t,r){"use strict";var n=r(22),i=r(309),a=r(400).getWeakData,s=r(165),o=r(68),u=r(125),c=r(64),l=r(186),h=r(105),f=r(62),p=r(112),d=p.set,v=p.getterFor,m=h.find,g=h.findIndex,b=n([].splice),k=0,y=function(e){return e.frozen||(e.frozen=new O)},O=function(){this.entries=[]},w=function(e,t){return m(e.entries,(function(e){return e[0]===t}))};O.prototype={get:function(e){var t=w(this,e);if(t)return t[1]},has:function(e){return!!w(this,e)},set:function(e,t){var r=w(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&b(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,r,n){var h=e((function(e,i){s(e,p),d(e,{type:t,id:k++,frozen:void 0}),u(i)||l(i,e[n],{that:e,AS_ENTRIES:r})})),p=h.prototype,m=v(t),g=function(e,t,r){var n=m(e),i=a(o(t),!0);return!0===i?y(n).set(t,r):i[n.id]=r,e};return i(p,{delete:function(e){var t=m(this);if(!c(e))return!1;var r=a(e);return!0===r?y(t).delete(e):r&&f(r,t.id)&&delete r[t.id]},has:function(e){var t=m(this);if(!c(e))return!1;var r=a(e);return!0===r?y(t).has(e):r&&f(r,t.id)}}),i(p,r?{get:function(e){var t=m(this);if(c(e)){var r=a(e);return!0===r?y(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),h}}},1800:function(e,t,r){"use strict";var n=r(16),i=r(1801),a=r(1627).remove;n({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=i(this),r=!0,n=0,s=arguments.length;n<s;n++)e=a(t,arguments[n]),r=r&&e;return!!r}})},1801:function(e,t,r){var n=r(1627).has;e.exports=function(e){return n(e),e}},1802:function(e,t,r){var n=r(16),i=r(1803),a=r(68),s=i.toKey,o=i.set;n({target:"Reflect",stat:!0},{metadata:function(e,t){return function(r,n){o(e,t,a(r),s(n))}}})},1803:function(e,t,r){r(243),r(1626);var n=r(113),i=r(22),a=r(185),s=n("Map"),o=n("WeakMap"),u=i([].push),c=a("metadata"),l=c.store||(c.store=new o),h=function(e,t,r){var n=l.get(e);if(!n){if(!r)return;l.set(e,n=new s)}var i=n.get(t);if(!i){if(!r)return;n.set(t,i=new s)}return i};e.exports={store:l,getMap:h,has:function(e,t,r){var n=h(t,r,!1);return void 0!==n&&n.has(e)},get:function(e,t,r){var n=h(t,r,!1);return void 0===n?void 0:n.get(e)},set:function(e,t,r,n){h(r,n,!0).set(e,t)},keys:function(e,t){var r=h(e,t,!1),n=[];return r&&r.forEach((function(e,t){u(n,t)})),n},toKey:function(e){return void 0===e||"symbol"==typeof e?e:String(e)}}},1804:function(e,t,r){r(406)("asyncIterator")}}]);